(function(){"use strict";var e={9750:function(e,t,a){var s=a(9242),r=a(3396);const i={class:"page"},o={class:"page__sidebar"},n={class:"page__main"};function c(e,t,a,s,c,l){const d=(0,r.up)("wx-brief-header"),p=(0,r.up)("wx-brief-sidebar"),u=(0,r.up)("wx-brief-main-window"),_=(0,r.up)("wx-brief-footer");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(d),(0,r._)("aside",o,[(0,r.Wm)(p,{groups:c.groups,isDisabled:c.isDisabled,onAddGroup:l.addGroup,onRemoveGroup:l.removeGroup,onDisplayMetarTaf:l.displayMetarTaf},null,8,["groups","isDisabled","onAddGroup","onRemoveGroup","onDisplayMetarTaf"])]),(0,r._)("main",n,[(0,r.Wm)(u,{currentDisplay:c.currentDisplay},null,8,["currentDisplay"])]),(0,r.Wm)(_,{class:"page__footer"})])}a(7658);var l=a.p+"img/plane-icon.a9e10442.svg";const d={class:"header"},p=(0,r._)("div",{class:"header__imageContainer"},[(0,r._)("a",{href:"#",class:"header__link"},[(0,r._)("img",{src:l,alr:"logo",class:"header__image"})])],-1),u=(0,r._)("div",{class:"header__name"},[(0,r._)("h1",{class:"header__text"},[(0,r.Uk)(" Weather Briefing"),(0,r._)("br"),(0,r._)("span",{class:"header__text_subtext"},"Get latest aviation weather reports and forecasts")])],-1),_=[p,u];function h(e,t,a,s,i,o){return(0,r.wg)(),(0,r.iD)("header",d,_)}var f={},g=a(89);const m=(0,g.Z)(f,[["render",h]]);var w=m,y=a(7139);const k={class:"tabs"},b={class:"display"},v={key:0},D={class:"section"},x=(0,r._)("h3",{class:"section__name"},"Present weather",-1),T={class:"weatherCards"},C={class:"name card__name"},z={key:0,class:"category_vfr"},G={key:1,class:"category_mvfr"},I={key:2,class:"category_ifr"},A={key:3,class:"category_lifr"},M={class:"card__time"},O={class:"card__itemList"},S={class:"card__item"},R={class:"card__sublist"},q={key:0},K={key:0,class:"card__item"},W={class:"card__sublist"},U={class:"card__item"},j={class:"card__item"},F={class:"card__item"},E={class:"card__item"},P={key:0},B={class:"section"},H=(0,r._)("h3",{class:"section__name"},"Forecast",-1),N={class:"weatherCards"},Y={class:"name forecast__name"},L={class:"forecast__time"},J={class:"forecast__item"},Z={key:0},V=(0,r._)("br",null,null,-1),$={key:0,class:"forecast__item"},X={key:0},Q={key:1,class:"forecast__item"},ee={key:2,class:"forecast__item"},te={class:"forecast__list"},ae={key:0},se={key:3,class:"forecast__item"},re={class:"forecast__list"},ie={key:1},oe={class:"section"},ne=(0,r._)("h3",{class:"section__name"},"Present weather",-1),ce={class:"name"},le={key:0,class:"category_vfr"},de={key:1,class:"category_mvfr"},pe={key:2,class:"category_ifr"},ue={key:3,class:"category_lifr"},_e={class:"section"},he=(0,r._)("h3",{class:"section__name"},"Forecast",-1),fe={class:"name"};function ge(e,t,a,s,i,o){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",k,[(0,r._)("button",{class:"tabs__button",onClick:t[0]||(t[0]=(...e)=>o.displayDecoded&&o.displayDecoded(...e)),style:(0,y.j5)(i.tabOne)}," Decoded METAR/TAF ",4),(0,r._)("button",{class:"tabs__button",onClick:t[1]||(t[1]=(...e)=>o.displayRaw&&o.displayRaw(...e)),style:(0,y.j5)(i.tabTwo)}," Raw METAR/TAF ",4)]),(0,r._)("div",b,[i.decoded?((0,r.wg)(),(0,r.iD)("div",v,[(0,r._)("section",D,[x,(0,r._)("div",T,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.currentDisplay.data.data,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.name,class:"card weatherCards__item"},[(0,r._)("h6",C,["VFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",z,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),"MVFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",G,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),"IFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",I,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),"LIFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",A,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),(0,r.Uk)(" "+(0,y.zw)(e.icao)+" "+(0,y.zw)(e.station.name),1)]),(0,r._)("p",M," Observation time: "+(0,y.zw)(e.observed),1),(0,r._)("ul",O,[(0,r._)("li",null," Pressure: "+(0,y.zw)(Math.round(10*e.barometer.kpa))+" hPa ",1),(0,r._)("li",S,[(0,r.Uk)(" Clouds: "),(0,r._)("ul",R,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.clouds,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"card__sublistItem",key:e},[(0,r.Uk)((0,y.zw)(e.text)+" "+(0,y.zw)(e.feet)+" ",1),e.feet?((0,r.wg)(),(0,r.iD)("span",q,"ft")):(0,r.kq)("",!0)])))),128))])]),e.conditions?((0,r.wg)(),(0,r.iD)("li",K,[(0,r.Uk)(" Conditions: "),(0,r._)("ul",W,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.conditions,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"card__sublistItem",key:e},(0,y.zw)(e.text),1)))),128))])])):(0,r.kq)("",!0),(0,r._)("li",U," Temperature: "+(0,y.zw)(e.temperature.celsius)+"°C ",1),(0,r._)("li",j," Dew point: "+(0,y.zw)(e.dewpoint.celsius)+"°C ",1),(0,r._)("li",F," Visibility: "+(0,y.zw)(e.visibility.meters)+" meters ",1),(0,r._)("li",E,[(0,r.Uk)(" Wind: "+(0,y.zw)(e.wind.degrees)+" degrees, "+(0,y.zw)(e.wind.speed_kts)+" knots",1),e.wind.gust_kts?((0,r.wg)(),(0,r.iD)("span",P,", gusting "+(0,y.zw)(e.wind.gust_kts)+" knots",1)):(0,r.kq)("",!0),(0,r.Uk)("; ")])])])))),128))])]),(0,r._)("section",B,[H,(0,r._)("div",N,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.currentDisplay.taf.data,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"rawReport weatherCards__item forecast",key:e.raw_text},[(0,r._)("h6",Y," TAF "+(0,y.zw)(e.icao)+" "+(0,y.zw)(e.station.name),1),(0,r._)("span",L," Issued "+(0,y.zw)(e.timestamp.issued),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.forecast,(e=>((0,r.wg)(),(0,r.iD)("ul",{class:"forecast__period",key:e.timestamp.from},[(0,r._)("li",J,[e.change?((0,r.wg)(),(0,r.iD)("span",Z,(0,y.zw)(e.change.indicator.text),1)):(0,r.kq)("",!0),(0,r.Uk)(" "+(0,y.zw)(e.timestamp.from.slice(-6))+" to "+(0,y.zw)(e.timestamp.to.slice(-6))+" ",1),V]),e.wind?((0,r.wg)(),(0,r.iD)("li",$,[(0,r.Uk)(" Wind direction: "+(0,y.zw)(e.wind.degrees)+" degrees "+(0,y.zw)(e.wind.speed_kts)+" knots",1),e.wind.gust_kts?((0,r.wg)(),(0,r.iD)("span",X,", gusting "+(0,y.zw)(e.wind.gust_kts)+" knots",1)):(0,r.kq)("",!0),(0,r.Uk)("; ")])):(0,r.kq)("",!0),e.visibility?((0,r.wg)(),(0,r.iD)("li",Q," Visibility: "+(0,y.zw)(e.visibility.meters)+" meters; ",1)):(0,r.kq)("",!0),e.clouds.length>0?((0,r.wg)(),(0,r.iD)("li",ee,[(0,r.Uk)(" Clouds: "),(0,r._)("ul",te,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.clouds,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"forecast__listItem",key:e},[(0,r.Uk)((0,y.zw)(e.text)+" "+(0,y.zw)(e.feet)+" ",1),e.feet?((0,r.wg)(),(0,r.iD)("span",ae,"ft")):(0,r.kq)("",!0)])))),128))])])):(0,r.kq)("",!0),e.conditions?((0,r.wg)(),(0,r.iD)("li",se,[(0,r.Uk)(" Conditions: "),(0,r._)("ul",re,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.conditions,(e=>((0,r.wg)(),(0,r.iD)("li",{class:"forecast__listItem",key:e.text},(0,y.zw)(e.text),1)))),128))])])):(0,r.kq)("",!0)])))),128))])))),128))])])])):(0,r.kq)("",!0),i.raw?((0,r.wg)(),(0,r.iD)("div",ie,[(0,r._)("section",oe,[ne,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.currentDisplay.data.data,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"rawReport",key:e.name},[(0,r._)("h6",ce,["VFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",le,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),"MVFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",de,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),"IFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",pe,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),"LIFR"===e.flight_category?((0,r.wg)(),(0,r.iD)("span",ue,(0,y.zw)(e.flight_category),1)):(0,r.kq)("",!0),(0,r.Uk)(" "+(0,y.zw)(e.icao)+" "+(0,y.zw)(e.station.name),1)]),(0,r._)("p",null,(0,y.zw)(e.raw_text),1)])))),128))]),(0,r._)("section",_e,[he,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.currentDisplay.taf.data,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"rawReport",key:e.raw_text},[(0,r._)("h6",fe,(0,y.zw)(e.icao)+" "+(0,y.zw)(e.station.name),1),(0,r.Uk)(" "+(0,y.zw)(e.raw_text),1)])))),128))])])):(0,r.kq)("",!0)])],64)}var me={props:{currentDisplay:Object},data(){return{decoded:!0,raw:!1,tabOne:"",tabTwo:"border-bottom: 1px solid black;",tabStyle:"border-bottom: 1px solid black;"}},methods:{displayDecoded(){this.decoded=!0,this.raw=!1,this.tabOne="",this.tabTwo=this.tabStyle},displayRaw(){this.decoded=!1,this.raw=!0,this.tabTwo="",this.tabOne=this.tabStyle}}};const we=(0,g.Z)(me,[["render",ge]]);var ye=we;const ke={class:"sidebar"},be=(0,r._)("h3",{class:"sidebar__header"},"My Airport Groups",-1);function ve(e,t,a,s,i,o){const n=(0,r.up)("wx-brief-sidebar-create"),c=(0,r.up)("wx-brief-sidebar-display");return(0,r.wg)(),(0,r.iD)("div",ke,[be,(0,r.Wm)(n,{class:"sidebar__create",onAddGroup:o.addGroup},null,8,["onAddGroup"]),(0,r.Wm)(c,{class:"sidebar__display",onRemoveGroup:o.removeGroup,onDisplayMetarTaf:o.displayMetarTaf,groups:a.groups,isDisabled:a.isDisabled},null,8,["onRemoveGroup","onDisplayMetarTaf","groups","isDisabled"])])}const De={class:"create"},xe=(0,r._)("label",{for:"groupName",class:"create__name"},"Name:",-1),Te=(0,r._)("label",{for:"airports",class:"create__airports"},"Airports:",-1);function Ce(e,t,a,i,o,n){return(0,r.wg)(),(0,r.iD)("div",De,[xe,(0,r.wy)((0,r._)("input",{id:"groupName","onUpdate:modelValue":t[0]||(t[0]=e=>o.name=e),type:"text",class:"create__nameInput",placeholder:"Enter name"},null,512),[[s.nr,o.name]]),Te,(0,r.wy)((0,r._)("textarea",{id:"airports","onUpdate:modelValue":t[1]||(t[1]=e=>o.airports=e),class:"create__airportsInput",placeholder:"Enter 4 letter ICAO airport codes"},"\n        ",512),[[s.nr,o.airports]]),(0,r._)("button",{class:"create__button",onClick:t[2]||(t[2]=(...e)=>n.addGroup&&n.addGroup(...e))},"Create group")])}var ze={data(){return{name:"",airports:""}},emits:["addGroup"],methods:{addGroup(){this.name&&this.airports&&this.$emit("addGroup",this.name,this.airports)}}};const Ge=(0,g.Z)(ze,[["render",Ce]]);var Ie=Ge;const Ae={class:"displayGroups"},Me={class:"group__name"},Oe={class:"group__text"},Se=["onClick","disabled"],Re=["onClick"];function qe(e,t,a,s,i,o){return(0,r.wg)(),(0,r.iD)("div",Ae,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.groups,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"displayGroups__item group",key:e.index},[(0,r._)("h3",Me,(0,y.zw)(e.name),1),(0,r._)("p",Oe,(0,y.zw)(e.airports.join(", ")),1),(0,r._)("button",{class:"group__display",onClick:t=>o.displayMetarTaf(e.index),disabled:a.isDisabled}," Display ",8,Se),(0,r._)("button",{class:"group__remove",onClick:t=>o.removeGroup(e.index)}," Remove ",8,Re)])))),128))])}var Ke={props:{groups:Array,isDisabled:Boolean},emits:["removeGroup","displayMetarTaf"],methods:{removeGroup(e){this.$emit("removeGroup",e)},displayMetarTaf(e){this.$emit("displayMetarTaf",e)}}};const We=(0,g.Z)(Ke,[["render",qe]]);var Ue=We,je={components:{WxBriefSidebarCreate:Ie,WxBriefSidebarDisplay:Ue},props:{groups:Array,isDisabled:Boolean},emits:["addGroup","removeGroup","displayMetarTaf"],methods:{addGroup(e,t){this.$emit("addGroup",e,t)},removeGroup(e){this.$emit("removeGroup",e)},displayMetarTaf(e){this.$emit("displayMetarTaf",e)}}};const Fe=(0,g.Z)(je,[["render",ve]]);var Ee=Fe;const Pe={class:"footer"},Be=(0,r.uE)('<div class="footer__name">Weather Briefing</div><div class="footer__wrapper"><div class="footer__disclaimer"> Disclamer: this is front-end student project, do not use for operations. </div><div class="footer__contacts"><a class="footer__link" href="mailto:andrewsamoiliuk@gmail.com">Contact author</a><a class="footer__link" href="https://www.checkwxapi.com/" target="blanc">Aviation Weather API</a><a class="footer__link" href="https://beetroot.academy/" target="blanc">Beetroot academy</a></div></div>',2),He=[Be];function Ne(e,t,a,s,i,o){return(0,r.wg)(),(0,r.iD)("footer",Pe,He)}var Ye={};const Le=(0,g.Z)(Ye,[["render",Ne]]);var Je=Le,Ze={name:"App",components:{WxBriefSidebar:Ee,WxBriefMainWindow:ye,WxBriefHeader:w,WxBriefFooter:Je},data(){return{groups:[],defaultGroups:[{index:1,name:"Poland",airports:["EPWA","EPKK","EPRZ"]},{index:2,name:"London",airports:["EGKK","EGLL","EGLC","EGSS"]},{index:3,name:"USA",airports:["KJFK","KMIA","KORD"]}],metarTafCache:[],currentDisplay:{taf:[],data:[],time:0},isDisabled:!1}},mounted:function(){JSON.parse(localStorage.getItem("userAirports"))&&this.groups.push(...JSON.parse(localStorage.getItem("userAirports"))),this.groups.length||this.groups.push(...this.defaultGroups),JSON.parse(localStorage.getItem("metarTafCache"))?this.metarTafCache.push(...JSON.parse(localStorage.getItem("metarTafCache"))):this.displayMetarTaf(1),this.currentDisplay={data:this.metarTafCache[0].data,time:this.metarTafCache[0].time,taf:this.metarTafCache[0].taf}},methods:{addGroup(e,t){this.groups.push({name:e,airports:this.validateAirports(t),index:this.setIndex()}),localStorage.setItem("userAirports",JSON.stringify(this.groups))},validateAirports(e){let t=e.replace(/[^a-zA-Z ]/g,"");t=t.toUpperCase();let a=t.split(" ");return a.filter((e=>4===e.length))},setIndex(){return 0===this.groups.length?1:Math.max(...this.groups.map((function(e){return e.index})))+1},getIndex(e,t){return t.findIndex((function(t){if(t.index===e)return!0}))},removeGroup(e){this.groups.splice(this.getIndex(e,this.groups),1),this.metarTafCache.splice(this.getIndex(e,this.metarTafCache),1),localStorage.setItem("userAirports",JSON.stringify(this.groups)),localStorage.setItem("metarTafCache",JSON.stringify(this.metarTafCache))},getMetar(e){this.isDisabled=!0;const t="435ea74fd7424bf1ac1065acf9",a=`https://api.checkwx.com/metar/${e}/decoded`,s={method:"GET",headers:{"X-API-Key":t}};return fetch(a,s).then((e=>e.json()))},getTaf(e){this.isDisabled=!0;const t="435ea74fd7424bf1ac1065acf9",a=`https://api.checkwx.com/taf/${e}/decoded`,s={method:"GET",headers:{"X-API-Key":t}};return fetch(a,s).then((e=>e.json()))},async displayMetarTaf(e){let t=this.getIndex(e,this.metarTafCache);const a=9e5,s=this.groups[this.getIndex(e,this.groups)].airports.join(",");if(-1===t)this.pushToLocal(await this.getMetar(s),await this.getTaf(s),e),this.isDisabled=!1;else{const r=Date.now();r-this.metarTafCache[t].time>a&&(this.metarTafCache.splice(t,1),this.pushToLocal(await this.getMetar(s),await this.getTaf(s),e),this.isDisabled=!1)}t=this.getIndex(e,this.metarTafCache),this.currentDisplay={data:this.metarTafCache[t].data,time:this.metarTafCache[t].time,taf:this.metarTafCache[t].taf}},pushToLocal(e,t,a){this.metarTafCache.push({index:a,data:e,taf:t,time:Date.now()}),localStorage.setItem("metarTafCache",JSON.stringify(this.metarTafCache))}}};const Ve=(0,g.Z)(Ze,[["render",c]]);var $e=Ve;(0,s.ri)($e).mount("#app"),document.title="Weather Briefing"}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,i){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],i=e[d][2];for(var n=!0,c=0;c<s.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[c])}))?s.splice(c--,1):(n=!1,i<o&&(o=i));if(n){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/course-4/students/samoiliuk_andrii/weather_project/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,o=s[0],n=s[1],c=s[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(c)var d=c(a)}for(t&&t(s);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self["webpackChunkweather_project"]=self["webpackChunkweather_project"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(9750)}));s=a.O(s)})();
//# sourceMappingURL=app.54457959.js.map